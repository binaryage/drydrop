(function(){this.parsePlaintextChangelog=function(d){var e,m;var n=d.split("\n");d=[];var b=void 0;for(e=0;e<n.length;){var a=$.trim(n[e]);e++;(m=a.match(/^(.*?)(\s\/\/.*)$/))&&(a=$.trim(m[1]));if(!(1>a.length||a.match(/^\/\//)))switch(a[0]){case "<":b.changes.push({kind:"raw",text:a});break;case "$":b.changes.push({kind:"announce",text:$.trim(a.substring(1))});break;case "*":b.changes.push({kind:"improved",text:$.trim(a.substring(1))});break;case "+":b.changes.push({kind:"new",text:$.trim(a.substring(1))});
break;case "!":b.changes.push({kind:"fixed",text:$.trim(a.substring(1))});break;case "-":b.changes.push({kind:"removed",text:$.trim(a.substring(1))});break;default:a=a.split("-"),b={version:$.trim(a[0]),date:$.trim(a[1]),note:$.trim(a[2]),changes:[]},d.push(b)}}return d};this.generateChangelogHTML=function(d,e,m,n){var b,a,r;var t=$(d);var p=e.length-1;for(r=[];0<=p;){var g=e[p];p!==e.length-1&&(b=$('<div class="separator"/>'));p--;d=$('<div class="release"/>').attr("id","v"+g.version);var f=$('<div class="titlebox"/>');
var h=$("<h4/>");var k=$("<a>"+g.version+"</a>").attr("href",m(g.version));var q=$("<h5/>").html(n(g.date));h.append(k);f.append(h,q);d.append(f);q=$('<div class="infobox"/>');k=$('<ul class="changes"/>');for(a=0;a<g.changes.length;){var c=g.changes[a];a++;if("raw"===c.kind)k.append(c.text);else{if("announce"===c.kind){f=$("<li/>");var l=$('<span class="info announce"/>').html(c.text);f.append('<span class="sticker">&nbsp;</span>',l)}else f=$("<li/>"),c.text=c.text.replace(/\(.*?\)/g,function(a){return"<i>"+
a+"</i>"}),c.text=c.text.replace(/\[(.*?)\]/g,function(a,b){return"<em>"+b+"</em>"}),l=$("<b/>").text(c.kind),h=$('<span class="sticker"/>').addClass(c.kind),h.append(l),l=$('<span class="info"/>').html(c.text),f.append(h,l);k.append(f)}}q.append(k);d.append(q);r.push(t.prepend(d,b))}return r}}).call(this);
